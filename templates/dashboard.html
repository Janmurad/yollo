{% extends 'base/base.html' %} {% block title %}Приборная панель{% endblock title %}
{%block content %}
{% load helpertags %}

<div class="justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2">
  <h2 class="h2">Приборная панель</h2>
  <hr>
  <div class="row">
    <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
      <div class="card">
        <div class="card-header p-3 pt-2">
          <div
            class="icon icon-lg icon-shape bg-gradient-dark shadow-dark text-center border-radius-xl mt-n4 position-absolute">
            <i class="align-text-bottom" style="color:white">
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-cash-coin"
                viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                <path
                  d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z" />
                <path
                  d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z" />
                <path d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z" />
              </svg>
            </i>
          </div>
          <div class="text-end pt-1">
            <p class="text-sm mb-0 text-capitalize">Денги</p>
            <h4 class="mb-0">{{ box_status.tarif|access }}</h4>
          </div>
        </div>
        <hr class="dark horizontal my-0">
        <div class="card-footer p-3">
          <p class="mb-0"><span class="text-success text-sm font-weight-bolder">+55% </span>на прошлой неделе</p>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
      <div class="card">
        <div class="card-header p-3 pt-2">
          <div
            class="icon icon-lg icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4 position-absolute">
            <i class="material-icons opacity-10">
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor"
                class="bi bi-person-circle" viewBox="0 0 16 16">
                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                <path fill-rule="evenodd"
                  d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z" />
              </svg>
            </i>
          </div>
          <div class="text-end pt-1">
            <p class="text-sm mb-0 text-capitalize">Скидка</p>
            <h4 class="mb-0">{{ box_status.discount|access }}</h4>
          </div>
        </div>
        <hr class="dark horizontal my-0">
        <div class="card-footer p-3">
          <p class="mb-0"><span class="text-success text-sm font-weight-bolder">+3% </span>на прошлом месяце</p>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
      <div class="card">
        <div class="card-header p-3 pt-2">
          <div
            class="icon icon-lg icon-shape bg-gradient-success shadow-success text-center border-radius-xl mt-n4 position-absolute">
            <i class="material-icons opacity-10">
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor"
                class="bi bi-car-front-fill" viewBox="0 0 16 16">
                <path
                  d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H6ZM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17 1.247 0 3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z" />
              </svg>
            </i>
          </div>
          <div class="text-end pt-1">
            <p class="text-sm mb-0 text-capitalize">Клиенты</p>
            <h4 class="mb-0">{{ box_status.client|access }}</h4>
          </div>
        </div>
        <hr class="dark horizontal my-0">
        <div class="card-footer p-3">
          <p class="mb-0"><span class="text-danger text-sm font-weight-bolder">-2%</span> чем вчера</p>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-sm-6">
      <div class="card">
        <div class="card-header p-3 pt-2">
          <div
            class="icon icon-lg icon-shape bg-gradient-info shadow-info text-center border-radius-xl mt-n4 position-absolute">
            <i class="material-icons opacity-10">
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor"
                class="bi bi-box-seam-fill" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                  d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003 6.97 2.789ZM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461L10.404 2Z" />
              </svg>
            </i>
          </div>
          <div class="text-end pt-1">
            <p class="text-sm mb-0 text-capitalize">Коробки</p>
            <h4 class="mb-0">{{ box_status.box|access }}</h4>
          </div>
        </div>
        <hr class="dark horizontal my-0">
        <div class="card-footer p-3">
          <p class="mb-0"><span class="text-success text-sm font-weight-bolder">+5% </span>чем вчера</p>
        </div>
      </div>
    </div>
  </div>

  <hr>

  <div class="row">
    <div class="col-xl-2 col-sm-6">
      <a href="{% url 'boxesstatus' 'create' %}" class="card text-bg-light mb-3" style="max-width: 8rem; text-decoration:none;">
        <div class="card-body">
          <h5 class="card-title">CREATE</h5>
          <p class="card-text">{{ box_status.create|access }}</p>
        </div>
      </a>
    </div>

    <div class="col-xl-2 col-sm-6">
      <a href="{% url 'boxesstatus' 'call' %}" class="card text-bg-primary mb-3" style="max-width: 8rem; text-decoration:none;">
        <div class="card-body">
          <h5 class="card-title">CALL</h5>
          <p class="card-text">{{ box_status.call|access }}</p>
        </div>
      </a>
    </div>

    <div class="col-xl-2 col-sm-6">
      <a href="{% url 'boxesstatus' 'sent' %}" class="card text-bg-dark mb-3" style="max-width: 8rem; text-decoration:none;">
        <div class="card-body">
          <h5 class="card-title">SENT</h5>
          <p class="card-text">{{ box_status.sent|access }}</p>
        </div>
      </a>
    </div>

    <div class="col-xl-2 col-sm-6">
      <a href="{% url 'boxesstatus' 'close' %}" class="card text-bg-success mb-3" style="max-width: 8rem; text-decoration:none;">
        <div class="card-body">
          <h5 class="card-title">CLOSE</h5>
          <p class="card-text">{{ box_status.close|access }}</p>
        </div>
      </a>
    </div>

    <div class="col-xl-2 col-sm-6">
      <a href="{% url 'boxesstatus' 'rejected' %}" class="card text-bg-danger mb-3" style="max-width: 8rem; text-decoration:none;">
        <div class="card-body">
          <h5 class="card-title">REJECTED</h5>
          <p class="card-text">{{ box_status.rejected|access }}</p>
        </div>
      </a>
    </div>

    <div class="col-xl-2 col-sm-6">
      <a href="{% url 'boxesstatus' 'canceled' %}" class="card text-bg-warning mb-3" style="max-width: 8rem; text-decoration:none;">
        <div class="card-body">
          <h5 class="card-title">CANCEL</h5>
          <p class="card-text">{{ box_status.canceled|access }}</p>
        </div>
      </a>
    </div>
  </div>

  <hr>

  <div class="row">
    <div class="btn-toolbar mb-2 mb-md-0">
      <!--form method="post">
          <div class="btn-group me-2">
            {% csrf_token %} {{ form.datefrom }} {{ form.dateto }}
          </div>
          <button type="submit" class="btn btn-primary">OK</button>
        </form-->
    </div>
    <div class="btn-toolbar mb-2 mb-md-0">
      <div class="btn-group me-2"></div>
    </div>
  </div>
  <div class="table-responsive">
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th scope="col">ID коробки</th>
          <th scope="col">Дата внесение</th>
          <th scope="col">Клиент отправитель</th>
          <th scope="col">Телефон отправителья</th>
          <th scope="col">Адрес отправителья</th>
          <th scope="col">Статус</th>
        </tr>
      </thead>
      <tbody>
        {% for box in page_obj %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ box.inputdate }}</td>
          <td>{{ box.clientfrom }}</td>
          <td>{{ box.phonefrom }}</td>
          <td>{{ box.addressfrom }}</td>
          <td style="text-transform: uppercase">{{ box.status }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="6">Пока заказа нет</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <nav aria-label="Page navigation">
    <ul class="pagination">
      {% if page_obj.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      {% endif %}
      {% for pg in page_obj.paginator %}
      <li class="page-item {% if page_obj.number == pg.number %}active{% endif %}">
        <a class="page-link" href="?page={{pg.number}}">{{ pg.number }}</a>
      </li>
      {% endfor %}
      {% if page_obj.has_next %}
      <li class="page-item">
        <a class="page-link" href="#" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
      {% endif %}
    </ul>
  </nav>
  {% endblock content %}

</div>